/**
 * Created by Admin on 08.08.2016.
 */



import React, {PropTypes, Component} from 'react';
import { render } from 'react-dom';

import shouldPureComponentUpdate from 'react-pure-render/function';

import GoogleMap from 'google-map-react';
import MyGreatPlace from './my_great_place.jsx';

import AppBar from 'material-ui/AppBar';
import IconButton from 'material-ui/IconButton';

import FlatButton from 'material-ui/FlatButton';
import Dialog from 'material-ui/Dialog';
import Divider from 'material-ui/Divider';
import FloatingActionButton from 'material-ui/FloatingActionButton';





export default class App extends Component{







    shouldComponentUpdate (){

       return shouldPureComponentUpdate;

    }

    constructor(props) {
        super(props);




        this.state = {
            open: false,

            center: [59.938043, 30.337157],
            zoom: 9,
            greatPlaceCoords: {lat: 59.724465, lng: 30.080121},
            apiKey: 'AIzaSyCcEv0Paipyu82492pgbviGWCbYWmo7jP4'

        };


        this.handleOpen = this.handleOpen.bind(this);
        this.handleClose = this.handleClose.bind(this);


    }


    handleOpen (e) {
        this.setState({open: true});





    };

    handleClose (e)  {
        this.setState({open: false});
    };







    generateMarker() {



        let MarkersCoordiante = [{lat: 59.724465, lng: 30.080121}, {lat:51.124699, lng:71.421928}];


        return(
            MarkersCoordiante.map((val , i) => (






                    <MyGreatPlace {...val} text={i} key={i}/>






                )
            )
        )













    }



    render(){

        const style = {
            margin: 12,
        };



      const styleMap = {


          display: "table-row"

      };

        return(


            <div className="container-fluid">

                <div className="row">



                    <AppBar
                        title={<span>МОЙ СОСЕД</span>}
                        iconElementLeft={<IconButton><i className="material-icons">people</i></IconButton>}
                        iconElementRight={<FlatButton label="ВОЙТИ" onClick={this.handleOpen}/>}

                    />

                    <Dialog
                        title="Войди через"
                        autoScrollBodyContent={true}
                        modal={false}
                        open={this.state.open}
                        onRequestClose={this.handleClose}
                    >


                        <Divider/>





                        <div className="row">


                            <div className="text-center">

                                <FloatingActionButton style={style}>
                                    <svg  height="60" id="Layer_1" width="56" version="1.1" viewBox="0 0 512 512" xmlSpace="preserve">
                                        <defs id="defs12"/>
                                        <g id="g5274">
                                            <rect height="512" id="rect2987" style={{"fill":"#168de2","fillOpacity":"1","fillRule":"nonzero","stroke":"none"}} width="512" rx="64" ry="64" x="0" y="5.6843419e-014"/>
                                            <path id="path24_3_" style={{"fill":"#ffffff"}} d="m 325.08023,254.16735 c -2.27055,-44.21506 -35.10145,-70.80947 -74.74837,-70.80947 h -1.49271 c -45.75131,0 -71.12043,35.9769 -71.12043,76.84766 0,45.75277 30.69113,74.65689 70.94771,74.65689 44.86825,0 74.37896,-32.87444 76.51434,-71.75258 l -0.10083,-8.9425 z M 249.06141,143.77992 c 30.56941,0 59.31572,13.51355 80.41569,34.67344 v 0.0789 c 0,-10.1542 6.83707,-17.81281 16.32463,-17.81281 l 2.40265,-0.0161 c 14.83791,0 17.89376,14.04663 17.89376,18.49011 l 0.0672,157.91815 c -1.04965,10.34343 10.67237,15.68341 17.16706,9.04303 25.36152,-26.06002 55.69376,-133.97115 -15.76452,-196.48095 -66.59585,-58.291684 -155.95549,-48.69003 -203.47876,-15.93125 -50.52505,34.84324 -82.846827,111.9703 -51.44697,184.40458 34.23344,79.00115 132.18414,102.5653 190.40359,79.05815 29.47929,-11.89766 43.09031,27.94902 12.47443,40.97143 C 269.2643,457.87699 140.49957,455.88877 80.353263,351.69281 39.713683,281.34277 41.867183,157.55899 149.65819,93.430316 232.10858,44.355874 340.82166,57.938441 406.3724,126.39644 c 68.51948,71.56628 64.51614,205.58696 -2.30796,257.68275 -30.28271,23.6752 -75.26202,0.64267 -74.97824,-33.85059 l -0.30789,-11.27602 c -21.08477,20.92125 -49.14793,33.12827 -79.71734,33.12827 -60.39852,0 -113.54541,-53.13038 -113.54541,-113.53943 0,-60.99006 53.14689,-114.76179 113.54541,-114.76179 l 0,0"/>
                                        </g>
                                    </svg>
                                </FloatingActionButton>


                                <FloatingActionButton style={style}>
                                    <svg height="60" id="Layer_1" width="56" version="1.1" viewBox="0 0 512 512" xmlSpace="preserve">
                                        <defs id="defs12"/>
                                        <g id="g5991">
                                            <rect height="512" id="rect2987" style={{"fill":"#3b5998","fillOpacity":"1","fillRule":"nonzero","stroke":"none"}} width="512" rx="64" ry="64" x="0" y="0"/>
                                            <path id="f_1_" style={{"fill":"#ffffff"}} d="M 286.96783,455.99972 V 273.53753 h 61.244 l 9.1699,-71.10266 h -70.41246 v -45.39493 c 0,-20.58828 5.72066,-34.61942 35.23496,-34.61942 l 37.6554,-0.0112 V 58.807915 c -6.5097,-0.87381 -28.8571,-2.80794 -54.8675,-2.80794 -54.28803,0 -91.44995,33.14585 -91.44995,93.998125 v 52.43708 h -61.40181 v 71.10266 h 61.40039 v 182.46219 h 73.42707 z"/>
                                        </g>
                                    </svg>
                                </FloatingActionButton>


                                <FloatingActionButton style={style}>
                                    <svg height="60" id="Layer_1" width="56" version="1.1" viewBox="0 0 512 512" xmlSpace="preserve">
                                        <defs id="defs12"/>
                                        <g id="g5956">
                                            <rect height="512" id="rect2987" style={{"fill":"#d0422a","fillOpacity":"1","fillRule":"nonzero","stroke":"none"}} width="512" rx="64" ry="64" x="0" y="0"/>
                                            <g id="g9-4" transform="matrix(1.5183435,0,0,1.5183435,-132.96848,-113.47295)">
                                                <g id="g11">
                                                    <path id="path13-7" style={{"fill":"#ffffff"}} d="m 263.2,262.02 -12.355,-9.595 c -3.762,-3.121 -8.91,-7.24 -8.91,-14.779 0,-7.571 5.148,-12.385 9.612,-16.841 14.393,-11.329 28.771,-23.383 28.771,-48.791 0,-26.125 -16.438,-39.866 -24.317,-46.389 h 21.243 l 22.295,-14.008 h -67.548 c -18.535,0 -45.246,4.386 -64.802,20.531 -14.743,12.714 -21.93,30.249 -21.93,46.034 0,26.793 20.576,53.955 56.903,53.955 3.434,0 7.185,-0.337 10.962,-0.688 -1.697,4.128 -3.413,7.565 -3.413,13.4 0,10.64 5.47,17.168 10.29,23.346 -15.434,1.064 -44.252,2.771 -65.498,15.829 -20.229,12.032 -26.389,29.542 -26.389,41.903 0,25.44 23.981,49.135 73.7,49.135 58.965,0 90.176,-32.623 90.176,-64.922 0.01,-23.732 -13.7,-35.41 -28.79,-48.12 z m -44.909,-39.51 c -29.497,0 -42.861,-38.131 -42.861,-61.141 0,-8.959 1.695,-18.206 7.531,-25.43 5.5,-6.879 15.077,-11.344 24.018,-11.344 28.436,0 43.184,38.475 43.184,63.219 0,6.191 -0.682,17.161 -8.566,25.095 -5.516,5.499 -14.742,9.601 -23.306,9.601 z m 0.335,138.156 c -36.679,0 -60.332,-17.547 -60.332,-41.943 0,-24.391 21.93,-32.642 29.479,-35.373 14.389,-4.844 32.909,-5.519 35.999,-5.519 3.428,0 5.143,0 7.871,0.345 26.078,18.555 37.398,27.807 37.398,45.375 0,21.271 -17.494,37.115 -50.415,37.115 z"/>
                                                    <polygon id="polygon15" style={{"fill":"#ffffff"}} points="349.78,273.703 349.78,239.142 384.245,239.142 384.245,221.987 349.78,221.987 349.78,187.634 332.812,187.634 332.812,221.987 298.517,221.987 298.517,239.142 332.812,239.142 332.812,273.703 "/>
                                                </g>
                                            </g>
                                        </g>
                                    </svg>
                                </FloatingActionButton>




                                <FloatingActionButton style={style}>
                                    <svg height="60" id="Layer_1" width="56" version="1.1" viewBox="0 0 512 512" xmlSpace="preserve">
                                        <defs id="defs12"/>
                                        <g id="g5608">
                                            <rect height="512" id="rect2987" style={{"fill":"#4c75a3","fillOpacity":"1","fillRule":"nonzero","stroke":"none"}} width="512" rx="64" ry="64" x="0" y="0"/>
                                            <path id="path9" style={{"fill":"#ffffff","fillRule":"evenodd"}} d="m 251.70955,369.14455 h 23.90722 c 0,0 7.21927,-0.79762 10.91007,-4.76903 3.39705,-3.65021 3.28841,-10.50167 3.28841,-10.50167 0,0 -0.47175,-32.08055 14.42054,-36.80302 14.67964,-4.6544 33.52648,31.00352 53.50297,44.7136 15.10712,10.3751 26.58794,8.10401 26.58794,8.10401 l 53.41814,-0.74389 c 0,0 27.93719,-1.7254 14.69046,-23.69711 -1.08421,-1.79346 -7.72077,-16.24983 -39.71651,-45.94943 -33.50267,-31.09426 -29.01187,-26.06134 11.33755,-79.83777 24.56987,-32.75042 34.39689,-52.73881 31.32344,-61.30492 -2.92543,-8.15775 -20.99737,-6.00608 -20.99737,-6.00608 l -60.14789,0.37614 c 0,0 -4.45617,-0.60898 -7.76492,1.36837 -3.22986,1.93675 -5.30509,6.45384 -5.30509,6.45384 0,0 -9.52735,25.34252 -22.21891,46.89512 -26.77781,45.47421 -37.48837,47.88141 -41.86576,45.05151 -10.18409,-6.5816 -7.63722,-26.43388 -7.63722,-40.54397 0,-44.07239 6.68431,-62.45001 -13.02109,-67.20472 -6.53861,-1.57852 -11.353,-2.62571 -28.07453,-2.79407 -21.45819,-0.21851 -39.62332,0.0681 -49.90525,5.10336 -6.84198,3.35887 -12.12325,10.8181 -8.90281,11.25035 3.9749,0.53016 12.97566,2.42511 17.74706,8.92193 6.16377,8.38702 5.94764,27.21599 5.94764,27.21599 0,0 3.54393,51.88028 -8.27001,58.32099 -8.10874,4.42157 -19.22901,-4.60187 -43.10881,-45.86108 -12.23061,-21.1311 -21.46783,-44.49746 -21.46783,-44.49746 0,0 -1.77673,-4.36067 -4.9565,-6.69981 -3.8544,-2.83349 -9.24187,-3.72903 -9.24187,-3.72903 l -57.154499,0.37016 c 0,0 -8.58037,0.24358 -11.72552,3.97499 -2.80725,3.32066 -0.22448,10.18167 -0.22448,10.18167 0,0 44.742259,104.68594 95.406949,157.43907 46.46763,48.38052 99.21848,45.20196 99.21848,45.20196 l 0,0 z"/>
                                        </g>
                                    </svg>
                                </FloatingActionButton>



                                <FloatingActionButton style={style}>
                                    <svg height="60" id="Layer_1" width="56" version="1.1" viewBox="0 0 512 512" xmlSpace="preserve">
                                        <defs id="defs12"/>
                                        <g id="g5758">
                                            <rect height="512" id="rect2987" style={{"fill":"#3b5998","fillOpacity":"1","fillRule":"nonzero","stroke":"none"}} width="512" rx="64" ry="64" x="0" y="0"/>
                                            <path id="path9-6" style={{"fill":"#ffffff"}} d="M 366.4272,76.00001 H 145.5754 c -38.3663,0 -69.5753,31.2032 -69.5753,69.57555 v 73.48163 147.3776 c 0,38.3633 31.209,69.5652 69.5753,69.5652 H 366.435 c 38.3611,0 69.5649,-31.2019 69.5649,-69.5652 V 219.04421 145.55217 c -0.013,-38.36066 -31.209,-69.55216 -69.5727,-69.55216 z m 19.9573,41.48604 7.9549,-0.0298 v 7.91868 53.10168 l -60.8151,0.19486 -0.2078,-61.01518 53.068,-0.17017 z M 204.6148,219.04421 c 11.5387,-15.95299 30.24,-26.40861 51.3858,-26.40861 21.146,0 39.8537,10.45562 51.3691,26.40861 7.5041,10.41275 11.9998,23.1637 11.9998,36.94995 0,34.93781 -28.4527,63.36633 -63.3767,63.36633 -34.937,0 -63.3596,-28.42852 -63.3596,-63.36633 0.013,-13.78625 4.4878,-26.5372 11.9816,-36.94995 z m 196.3,147.37508 c 0,19.0355 -15.4708,34.4922 -34.4889,34.4922 H 145.5754 c -19.026,0 -34.4993,-15.4554 -34.4993,-34.4922 V 219.04421 h 53.7409 c -4.6438,11.41428 -7.2509,23.88205 -7.2509,36.94995 0,54.25908 44.152,98.43403 98.4358,98.43403 54.2864,0 98.4332,-44.17624 98.4332,-98.43403 0,-13.06921 -2.6251,-25.53567 -7.2612,-36.94995 h 53.7422 v 147.37508 z"/>
                                        </g>
                                    </svg>
                                </FloatingActionButton>




                            </div>



                        </div>




                    </Dialog>



                </div>




                <div className="row">




                    <GoogleMap
                        bootstrapURLKeys={{key: this.state.apiKey}}
                        center={this.state.center}
                        zoom={this.state.zoom} style={styleMap}>



                        {this.generateMarker()}




                    </GoogleMap>



                </div>























            </div>







        )



    }


}